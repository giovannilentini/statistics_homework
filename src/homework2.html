<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Homework 2</title>
    
    <link rel="stylesheet" href="../include/css/style.css">
    <link rel="stylesheet" href="../include/css/content.css">
    <link rel="stylesheet" href="../include/css/code_block.css">
    
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet" />
    
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <script src="../include/js/crypto-viz.js" defer></script>

    <style>
        /* Responsive Table Wrapper */
        .table-responsive {
            overflow-x: auto;
            margin-bottom: 1.5rem;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }
        
        /* Interactive Tool Styling */
        .interactive-tool {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-left: 5px solid #4a90e2; /* Accent color */
            padding: 20px;
            border-radius: 8px;
            margin: 2rem 0;
            font-family: sans-serif;
        }
        
        .interactive-tool h4 { margin-top: 0; color: #2c3e50; }
        
        .tool-controls {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            margin: 15px 0;
            align-items: center;
        }
        
        .tool-input {
            padding: 8px 12px;
            border: 1px solid #ced4da;
            border-radius: 4px;
            font-size: 1rem;
        }

        .result-box {
            background: #2d2d2d;
            color: #50fa7b; /* Matrix green */
            padding: 15px;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
            font-weight: bold;
        }

        /* MathJax Spacing */
        mjx-container { margin: 1em 0 !important; }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <h1>Statistics Homework Blog</h1>
            <p class="subtitle">Dataset, Distributions and Statistical Analysis</p>
            <p class="student-info">Giovanni Lentini - 1987799</p>
        </div>
    </header>

    <main class="container">
        <div class="back-navigation">
            <a href="../index.html" class="btn-back">‚Üê Back to Home</a>
        </div>

        <article class="homework-detail">
            <div class="homework-header">
                <h2>Homework 2: Dataset, Distributions and Statistical Analysis</h2>
                <div class="meta-info">
                    <span class="date">Due: October 22, 2025</span>
                </div>
            </div>

            <section class="homework-content">
                <p class="intro-paragraph">This homework explores the fundamental concepts of datasets and distributions in statistics, demonstrating practical applications through univariate and bivariate analysis on a sample database of people.</p>

                <h3>1. What is a Dataset?</h3>
                <p>A dataset is a structured collection of related data, typically organized in rows and columns. In our context:</p>
                <ul>
                    <li><strong>Rows (Observations):</strong> Each row represents an individual student.</li>
                    <li><strong>Columns (Variables):</strong> Attributes such as name, age, grade, and test scores.</li>
                </ul>
                <p>Datasets form the backbone of modern statistical analysis and machine learning, requiring clear definitions and consistent formatting for reproducibility.</p>

                <h3>2. Understanding Distributions</h3>
                <p>A distribution describes how values of a variable are spread. Key properties include:</p>
                <ul>
                    <li><strong>Central Tendency:</strong> Where the center lies (Mean \(\mu\), Median).</li>
                    <li><strong>Dispersion:</strong> How scattered values are (Standard Deviation \(\sigma\)).</li>
                    <li><strong>Shape:</strong> Skewness and Kurtosis (e.g., Normal, Uniform).</li>
                </ul>

                <h3>3. The People Dataset</h3>
                <p>We work with a dataset of 18 individuals containing 7 variables. Below is the SQL definition used to generate the schema:</p>

                <div class="code-block">
                    <div class="code-header">
                        <span class="code-language">SQL</span>
                        <span class="code-title">Table Creation</span>
                    </div>
                    <pre><code class="language-sql">CREATE TABLE people (
    id SERIAL PRIMARY KEY,
    first_name VARCHAR(50),
    last_name VARCHAR(50),
    age INT,
    gender VARCHAR(10),
    city VARCHAR(50),
    email VARCHAR(100)
);</code></pre>
                </div>

                <p><strong>Dataset Preview:</strong></p>
                <div class="table-responsive">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th scope="col">ID</th>
                                <th scope="col">First Name</th>
                                <th scope="col">Last Name</th>
                                <th scope="col">Age</th>
                                <th scope="col">Gender</th>
                                <th scope="col">City</th>
                                <th scope="col">Email</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr><td>1</td><td>Giovanni</td><td>Rossi</td><td>28</td><td>Male</td><td>Bologna</td><td>giovanni.rossi@email.com</td></tr>
                            <tr><td>2</td><td>Alessia</td><td>Bianchi</td><td>22</td><td>Female</td><td>Milano</td><td>alessia.bianchi@email.com</td></tr>
                            <tr><td>3</td><td>Daniele</td><td>Verdi</td><td>35</td><td>Male</td><td>Roma</td><td>daniele.verdi@email.com</td></tr>
                            <tr><td>4</td><td>Lucia</td><td>Ferrari</td><td>29</td><td>Female</td><td>Milano</td><td>lucia.ferrari@email.com</td></tr>
                            <tr><td>5</td><td>Marco</td><td>Neri</td><td>42</td><td>Male</td><td>Bologna</td><td>marco.neri@email.com</td></tr>
                            <tr><td>6</td><td>Elena</td><td>Russo</td><td>24</td><td>Female</td><td>Roma</td><td>elena.russo@email.com</td></tr>
                            <tr><td>7</td><td>Sara</td><td>Conti</td><td>31</td><td>Female</td><td>Torino</td><td>sara.conti@email.com</td></tr>
                            <tr><td>8</td><td>Luca</td><td>Mariani</td><td>38</td><td>Male</td><td>Milano</td><td>luca.mariani@email.com</td></tr>
                            <tr><td>9</td><td>Chiara</td><td>Gallo</td><td>26</td><td>Female</td><td>Bologna</td><td>chiara.gallo@email.com</td></tr>
                            <tr><td>10</td><td>Edoardo</td><td>Greco</td><td>33</td><td>Male</td><td>Roma</td><td>edoardo.greco@email.com</td></tr>
                            <tr><td>11</td><td>Francesca</td><td>Romano</td><td>27</td><td>Female</td><td>Milano</td><td>francesca.romano@email.com</td></tr>
                            <tr><td>12</td><td>Andrea</td><td>Ricci</td><td>45</td><td>Male</td><td>Torino</td><td>andrea.ricci@email.com</td></tr>
                            <tr><td>13</td><td>Martina</td><td>Colombo</td><td>23</td><td>Female</td><td>Napoli</td><td>martina.colombo@email.com</td></tr>
                            <tr><td>14</td><td>Alessandro</td><td>Esposito</td><td>36</td><td>Male</td><td>Roma</td><td>alessandro.esposito@email.com</td></tr>
                            <tr><td>15</td><td>Giulia</td><td>De Luca</td><td>25</td><td>Female</td><td>Milano</td><td>giulia.deluca@email.com</td></tr>
                            <tr><td>16</td><td>Matteo</td><td>Bruno</td><td>40</td><td>Male</td><td>Bologna</td><td>matteo.bruno@email.com</td></tr>
                            <tr><td>17</td><td>Valentina</td><td>Moretti</td><td>30</td><td>Female</td><td>Torino</td><td>valentina.moretti@email.com</td></tr>
                            <tr><td>18</td><td>Simone</td><td>Barbieri</td><td>34</td><td>Male</td><td>Napoli</td><td>simone.barbieri@email.com</td></tr>
                        </tbody>
                    </table>
                </div>

                <h3>4. Univariate Distribution Analysis</h3>
                
                <h4>Analysis 1: Age Distribution</h4>
                <p>We analyze the numerical continuous variable <em>Age</em>. The mean age \(\bar{x}\) and standard deviation \(\sigma\) are calculated as follows:</p>

                <div class="code-block">
                    <div class="code-header">
                        <span class="code-language">SQL</span>
                        <span class="code-title">Age Statistics</span>
                    </div>
                    <pre><code class="language-sql">SELECT 
    COUNT(age) AS count,
    AVG(age) AS mean_age,
    MIN(age) AS min_age,
    MAX(age) AS max_age,
    STDDEV(age) AS std_deviation
FROM people;</code></pre>
                </div>

                <div class="table-responsive">
                    <table class="data-table result-table">
                        <thead>
                            <tr>
                                <th scope="col">Count</th>
                                <th scope="col">Mean Age (\(\mu\))</th>
                                <th scope="col">Min</th>
                                <th scope="col">Max</th>
                                <th scope="col">Std Dev (\(\sigma\))</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>18</td>
                                <td>31.56</td>
                                <td>22</td>
                                <td>45</td>
                                <td>6.58</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="visualization-container">
                    <h5>Age Distribution Visualization</h5>
                    <div class="chart-placeholder">
                        <canvas id="ageDistributionChart"></canvas>
                    </div>
                </div>

                <h4>Analysis 2: Gender Distribution</h4>
                <p>For the categorical variable <em>Gender</em>, we calculate the percentage frequency:</p>
                <div class="code-block">
                    <div class="code-header"><span class="code-language">SQL</span></div>
                    <pre><code class="language-sql">SELECT gender, COUNT(*) as frequency 
FROM people GROUP BY gender;</code></pre>
                </div>
                
                <p>The dataset is perfectly balanced with <strong>50% Male</strong> and <strong>50% Female</strong>.</p>
                <div class="visualization-container">
                    <h5>Gender Distribution Visualization</h5>
                    <div class="chart-placeholder"><canvas id="genderDistributionChart"></canvas></div>
                </div>

                <h4>Analysis 3: City Distribution</h4>
                <p>This analysis reveals the geographical concentration of the subjects.</p>
                <div class="visualization-container">
                    <h5>City Distribution Visualization</h5>
                    <div class="chart-placeholder"><canvas id="cityDistributionChart"></canvas></div>
                </div>

                <h3>5. Bivariate Distribution Analysis</h3>
                <p>We examine the relationship between Age and Gender. The data indicates a significant difference in mean ages:</p>
                
                <div class="table-responsive">
                    <table class="data-table result-table">
                        <thead>
                            <tr>
                                <th scope="col">Gender</th>
                                <th scope="col">Count</th>
                                <th scope="col">Mean Age</th>
                                <th scope="col">Std Deviation</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr><td>Female</td><td>9</td><td>26.33</td><td>2.98</td></tr>
                            <tr><td>Male</td><td>9</td><td>36.78</td><td>4.83</td></tr>
                        </tbody>
                    </table>
                </div>
                <p><em>Note the significant gap of ~10 years between the average ages of the two groups.</em></p>

                <div class="visualization-container">
                    <h5>Mean Age by Gender</h5>
                    <div class="chart-placeholder"><canvas id="ageGenderChart"></canvas></div>
                </div>

                <h3>6. The Caesar Cipher & Cryptanalysis</h3>
                <p>The Caesar cipher is a substitution cipher where letters are shifted by a fixed number \(k\). Mathematically, the encryption function \(E(x)\) is:</p>
                <p>$$ E_n(x) = (x + n) \mod 26 $$</p>

                <div class="interactive-tool">
                    <h4>üîì Interactive Caesar Cipher Decoder</h4>
                    <p>Before looking at the code, try understanding the mechanism yourself. Enter text below to see how the shift affects the output.</p>
                    
                    <div class="tool-controls">
                        <div>
                            <label for="cipherInput"><strong>Plaintext:</strong></label><br>
                            <input type="text" id="cipherInput" class="tool-input" placeholder="DANTE ALIGHIERI" style="width: 250px;">
                        </div>
                        <div>
                            <label for="shiftAmount"><strong>Shift (\(n\)):</strong></label><br>
                            <input type="number" id="shiftAmount" class="tool-input" value="7" min="1" max="25" style="width: 60px;">
                        </div>
                    </div>
                    
                    <div class="result-box">
                        <span id="cipherOutput">KHUA L KPNo...</span>
                    </div>
                </div>

                <h4>Step 1: Text Extraction (Python)</h4>
                <div class="code-block">
                    <div class="code-header">
                        <span class="code-language">Python</span>
                        <span class="code-title">Text Preparation</span>
                    </div>
                    <pre><code class="language-python">import re
from collections import Counter

def prepare_text(text):
    # Remove non-alphabetic chars and uppercase
    text = re.sub(r'[^a-zA-Z\s]', '', text).upper()
    return ' '.join(text.split())</code></pre>
                </div>

                <h4>Step 2: Frequency Analysis Attack</h4>
                <p>To break the cipher, we use the Chi-Squared statistic (\(\chi^2\)) to compare the observed frequency (\(O_i\)) of the ciphertext with the expected frequency (\(E_i\)) of the Italian language:</p>
                
                <p>$$ \chi^2 = \sum \frac{(O_i - E_i)^2}{E_i} $$</p>

                <div class="code-block">
                    <div class="code-header">
                        <span class="code-language">Python</span>
                        <span class="code-title">Chi-Squared Attack</span>
                    </div>
                    <pre><code class="language-python">def calculate_chi_squared(observed, expected):
    chi2 = 0
    for letter in expected:
        if letter in observed:
            obs = observed[letter]
            exp = expected[letter]
            chi2 += ((obs - exp) ** 2) / exp
    return chi2</code></pre>
                </div>

                <div class="visualization-container">
                    <h5>Frequency Distribution Comparison</h5>
                    <div id="frequencyChart" class="chart-placeholder">
                        <canvas id="freqCanvas"></canvas>
                    </div>
                </div>

                <h4>Results</h4>
                <p>The analysis successfully recovered the shift key of <strong>7</strong>. The visualizations above confirm that the encrypted distribution is simply a shifted version of the original Italian distribution.</p>

            </section>
        </article>
    </main>

    <script src="../include/js/main.js"></script>
    <script src="../include/js/distribution-viz.js" defer></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-sql.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-python.min.js"></script>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const input = document.getElementById('cipherInput');
            const shift = document.getElementById('shiftAmount');
            const output = document.getElementById('cipherOutput');
            
            function caesar(str, shift) {
                return str.toUpperCase().replace(/[A-Z]/g, c => String.fromCharCode((c.charCodeAt(0) - 65 + shift) % 26 + 65));
            }
            
            function update() { 
                const s = parseInt(shift.value) || 0;
                output.innerText = caesar(input.value, s); 
            }

            if(input && shift) {
                input.value = "NEL MEZZO DEL CAMMIN";
                update();
                input.addEventListener('input', update);
                shift.addEventListener('input', update);
            }
        });
    </script>
</body>
</html>